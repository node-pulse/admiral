# PostgreSQL Configuration
POSTGRES_USER=admiral
POSTGRES_PASSWORD=changeme-use-strong-password
POSTGRES_DB=node_pulse_admiral

# Valkey Configuration
VALKEY_PASSWORD=changeme-use-strong-password

# Ory Kratos Configuration
KRATOS_LOG_LEVEL=info

# Backend Configuration (Go-Gin Submarines)
INGEST_PORT=8080
GIN_MODE=release
JWT_SECRET=changeme-use-strong-secret
DB_HOST=postgres
DB_PORT=5432
DB_USER=admiral
DB_PASSWORD=changeme-use-strong-password
DB_NAME=node_pulse_admiral
DB_SSLMODE=disable
VALKEY_HOST=valkey
VALKEY_PORT=6379
KRATOS_PUBLIC_URL=http://kratos:4433
KRATOS_ADMIN_URL=http://kratos:4434
PORT=8080
DIGEST_ID=digest-1

# Flagship Configuration (Laravel)
APP_NAME="NodePulse Flagship"
APP_ENV=production
APP_DEBUG=false
APP_KEY=  # Generate with: docker-compose run --rm flagship php artisan key:generate --show
APP_URL=http://localhost:3000
APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US
APP_MAINTENANCE_DRIVER=file

# Laravel Logging
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=info

# Laravel Database (uses shared PostgreSQL with 'backend' schema)
DB_CONNECTION=pgsql
DB_HOST=postgres
DB_PORT=5432
DB_DATABASE=node_pulse_admiral
DB_USERNAME=admiral
DB_PASSWORD=changeme-use-strong-password
DB_SSLMODE=disable

# Laravel Sessions & Cache (uses Valkey/Redis)
SESSION_DRIVER=redis
SESSION_LIFETIME=120
CACHE_STORE=redis
QUEUE_CONNECTION=redis
REDIS_CLIENT=phpredis
REDIS_HOST=valkey
REDIS_PORT=6379
REDIS_PASSWORD=changeme-use-strong-password

# Submarines API endpoint (server-side calls)
SUBMARINES_API_URL=http://submarines-ingest:8080

# Mail (optional, defaults to log)
MAIL_MAILER=log
MAIL_FROM_ADDRESS="noreply@nodepulse.local"
MAIL_FROM_NAME="${APP_NAME}"

# Vite
VITE_APP_NAME="${APP_NAME}"


# Cruiser Configuration (Next.js)
# Public URLs (accessible from browser)
NEXT_PUBLIC_API_URL=http://localhost:8080
NEXT_PUBLIC_KRATOS_URL=http://localhost:4433

# Server-side URLs (internal)
API_URL=http://submarines-ingest:8080

# Better Auth
BETTER_AUTH_SECRET=changeme-use-strong-secret
BETTER_AUTH_URL=http://localhost:3000

# Note: DATABASE_URL is automatically constructed in docker-compose.yml from POSTGRES_* variables above
# If Better Auth is used, it may require ?search_path=better_auth in the connection string
# because it doesn't support schema-qualified table names
