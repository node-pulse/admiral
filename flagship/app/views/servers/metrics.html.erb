<% content_for :page_title, "#{@server.hostname} - Metrics" %>

<div class="mb-6">
  <%= link_to "← Back to Server", @server, class: "text-blue-600 hover:text-blue-800" %>
</div>

<div class="mb-6 flex space-x-2">
  <%= link_to "1 Hour", metrics_server_path(@server, range: 1), class: "px-4 py-2 rounded #{params[:range] == '1' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700'}" %>
  <%= link_to "6 Hours", metrics_server_path(@server, range: 6), class: "px-4 py-2 rounded #{params[:range] == '6' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700'}" %>
  <%= link_to "24 Hours", metrics_server_path(@server, range: 24), class: "px-4 py-2 rounded #{params[:range].blank? || params[:range] == '24' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700'}" %>
  <%= link_to "7 Days", metrics_server_path(@server, range: 168), class: "px-4 py-2 rounded #{params[:range] == '168' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700'}" %>
</div>

<div class="bg-white rounded-lg shadow p-6 mb-6">
  <h3 class="text-lg font-semibold mb-4">CPU Usage</h3>
  <%= line_chart @cpu_data, suffix: "%", max: 100, library: {
    scales: {
      y: {
        beginAtZero: true,
        max: 100
      }
    }
  } %>
</div>

<div class="bg-white rounded-lg shadow p-6 mb-6">
  <h3 class="text-lg font-semibold mb-4">Memory Usage</h3>
  <%= line_chart @memory_data, suffix: "%", max: 100, library: {
    scales: {
      y: {
        beginAtZero: true,
        max: 100
      }
    }
  } %>
</div>

<div class="bg-white rounded-lg shadow p-6">
  <h3 class="text-lg font-semibold mb-4">Disk Usage</h3>
  <%= line_chart @disk_data, suffix: "%", max: 100, library: {
    scales: {
      y: {
        beginAtZero: true,
        max: 100
      }
    }
  } %>
</div>
